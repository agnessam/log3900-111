<div id="user-profile" *ngIf="userLoaded | async">
  <div id="team-header" fxLayout="row grid" fxLayoutAlign="center center">
    <div fxFlex="13%" style="text-align: center">
      <ngx-avatar [src]="this.user.avatar?.imageUrl" [size]="150"></ngx-avatar>
    </div>
    <div fxFlex="13%">
      <div fxLayout="column" fxLayoutAlign="center center">
        <div fxFlex="100%">
          <h2>{{ this.user.username }}</h2>
        </div>
        <div fxLayout="row grid" fxLayoutAlign="center center">
          <div>
            <p>{{ this.user.followers.length }} followers</p>
          </div>
        </div>
        <div fxFlex="100%" style="text-align: center">
          <p>{{ this.user.description }}</p>
        </div>
      </div>
    </div>
    <div fxFlex="13%" style="text-align: center">
      <div fxLayout="column" fxLayoutGap="12px" fxLayoutAlign="center center">
        <button
          mat-raised-button
          color="primary"
          *ngIf="!isMyProfile() && !isFollowing()"
          (click)="followUser()"
        >
          Follow
        </button>
        <button
          mat-raised-button
          color="warn"
          *ngIf="!isMyProfile() && isFollowing()"
          (click)="openConfirmUnfollowDialog()"
        >
          Unfollow
        </button>
        <button
          mat-raised-button
          color="primary"
          *ngIf="isMyProfile()"
          (click)="navigateToSettingsPage()"
        >
          Edit Profile
        </button>
      </div>
    </div>
  </div>
  <br />
  <div id="user-drawings">
    <mat-tab-group mat-align-tabs="center">
      <mat-tab label="Drawings">
        <div fxLayout="row wrap" id="drawings">
          <div fxFlex="33%" *ngFor="let drawing of user.drawings">
            <app-drawing-card
              [drawing]="drawing"
              (deletedDrawingEvent)="deleteDrawingFromView($event)"
            ></app-drawing-card>
          </div>
        </div>
      </mat-tab>
      <mat-tab label="Posts">
        <div fxLayout="row wrap" id="posts">
          <div fxFlex="33%" *ngFor="let post of user.posts">
            <app-post-card [post]="post" (click)="openPostDialog(post)"></app-post-card>
          </div>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
