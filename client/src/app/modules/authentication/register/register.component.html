<app-authentication-navbar></app-authentication-navbar>
<body class="register-body mat-app-background">
  <mat-grid-list cols="2">
    <mat-grid-tile><mat-card-title></mat-card-title></mat-grid-tile>
    <mat-grid-tile>
      <mat-card id="register-mat-card">
        <mat-card-title id="titleCard">ColorImage</mat-card-title>
        <mat-card-title id="register-card">Register</mat-card-title>
        <mat-card-content>
          <form
            [formGroup]="userRegistration"
            (ngSubmit)="onSubmit()"
            id="register-form"
          >
            <table class="input-table">
              <tr>
                <td>
                  <p>
                    <mat-form-field appearance="outline" class="form-input" id='firstNameFormField'>
                      <mat-label>First Name</mat-label>
                      <input
                        type="text"
                        matInput
                        placeholder="First name"
                        formControlName="firstName"
                      />
                      <mat-error
                        *ngIf="
                          this.userRegistration.hasError(
                            'required',
                            'firstName'
                          )
                        "
                        >First name is required</mat-error
                      >
                    </mat-form-field>
                  </p>
                </td>
                <td>
                  <p>
                    <mat-form-field appearance="outline" class="form-input" id="lastNameFormField">
                      <mat-label>Last Name</mat-label>
                      <input
                        type="text"
                        matInput
                        placeholder="Last Name"
                        formControlName="lastName"
                      />
                      <mat-error
                        *ngIf="
                          this.userRegistration.hasError('required', 'lastName')
                        "
                        >Last name is required</mat-error
                      >
                    </mat-form-field>
                  </p>
                </td>
              </tr>
            </table>
            <p>
              <mat-form-field appearance="outline" class="form-input" id="usernameFormField">
                <mat-label>Username</mat-label>
                <input
                  type="text"
                  matInput
                  placeholder="Username"
                  formControlName="username"
                />
                <mat-error
                  *ngIf="this.userRegistration.hasError('required', 'username')"
                  >Username is required</mat-error
                >
                <mat-error
                  *ngIf="
                    this.userRegistration.hasError('minlength', 'username')
                  "
                  >Username needs to be atleast 4 characters</mat-error
                >
                <mat-error
                  *ngIf="
                    this.userRegistration.hasError('maxlength', 'username')
                  "
                  >Username cannot have more than 12 characters</mat-error
                >
                <mat-error
                  *ngIf="
                    this.userRegistration.hasError(
                      'duplicateUsername',
                      'username'
                    )
                  "
                  >Username already exists</mat-error
                >
              </mat-form-field>
            </p>
            <p>
              <mat-form-field appearance="outline" class="form-input" id="emailFormField">
                <mat-label>Email Address</mat-label>
                <input
                  type="text"
                  matInput
                  placeholder="Email Address"
                  formControlName="email"
                />
                <mat-error
                  *ngIf="this.userRegistration.hasError('required', 'email')"
                  >Email is required</mat-error
                >
                <mat-error
                  *ngIf="this.userRegistration.hasError('pattern', 'email')"
                  >Email isn't a valid email</mat-error
                >
                <mat-error
                  *ngIf="
                    this.userRegistration.hasError('duplicateEmail', 'email')
                  "
                  >Email already exists</mat-error
                >
              </mat-form-field>
            </p>

            <table class="input-table">
              <tr>
                <td>
                  <p>
                    <mat-form-field appearance="outline" class="form-input" id="passwordFormField">
                      <mat-label>Password</mat-label>
                      <input
                        type="password"
                        matInput
                        placeholder="Password"
                        formControlName="password"
                      />
                      <mat-error
                        *ngIf="
                          this.userRegistration.hasError(
                            'minlength',
                            'password'
                          )
                        "
                        >Password needs to have minimum length of 8
                        characters</mat-error
                      >
                      <mat-error
                        *ngIf="
                          this.userRegistration.hasError('required', 'password')
                        "
                        >Password is required</mat-error
                      >
                    </mat-form-field>
                  </p>
                </td>
                <td>
                  <p>
                    <mat-form-field appearance="outline" class="form-input" id="confirmPasswordFormField">
                      <mat-label>Confirm Password</mat-label>
                      <input
                        type="password"
                        matInput
                        placeholder="Confirm Password"
                        formControlName="confirmPassword"
                        [errorStateMatcher]="matcher"
                      />
                      <mat-error
                        *ngIf="
                          this.userRegistration.hasError(
                            'required',
                            'confirmPassword'
                          )
                        "
                        >Confirm your password</mat-error
                      >
                      <mat-error
                        *ngIf="this.userRegistration.hasError('notSame')"
                        >Passwords do not match</mat-error
                      >
                    </mat-form-field>
                  </p>
                </td>
              </tr>
            </table>
            <div id="login-redirect">
              <p>
                Already have an account?
                <button mat-button id="login-link" routerLink="/login">
                  LOG IN
                </button>
              </p>
            </div>
            <div id="register-button" class="button">
              <button type="submit" mat-raised-button color="primary">
                Register
              </button>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</body>
